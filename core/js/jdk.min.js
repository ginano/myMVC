(function(win,undefined){function Class(e,t){if(typeof e!="string"){Util.log(e+' is not an invalid classname like "modules/view"!');return}if(!(this instanceof Class))return new Class(e,t);var n={classPath:e,"static":{},"private":{},"protected":{},"public":{},superClassList:[],interfaceList:[]},r=this;Util.eachProp(t,function(e,t){var i=e.match(/^(?:(static)__)?(?:(public|private|protected)__)?([^__]+)$/);if(!i){Util.log('the property "'+e+'" is not an valid name like "public__getoffername"!');return}typeof t=="function"&&(t.__isJDKProperty__=!0),i[2]=i[2]||"public",i[1]?(r[i[3]]=t,n[i[1]][i[3]]=t):i[2]&&(n[i[2]][i[3]]=t)}),this.getClassPath=function(){return e},n.__class__=this,DataUtil.addNewClass(n)}function Interface(e,t){if(!(this instanceof Interface))return new Interface(t);var n={interfacePath:e,"static":{},"private":{},"protected":{},"public":{}};Util.eachProp(t,function(e,t){var n=e.match(/^(?:(static)__)?(?:(public|private|protected)__)?([^__]+)$/);if(!n){Util.log('the property "'+e+'" is not an invalid name as "public__getoffername"!');return}n[2]=n[2]||"public",n[1]?_class[n[1]][n[3]]=t:n[2]&&(_class[n[2]][n[3]]=t)}),DataUtil.addInterface(n),this.getInterfacePath=function(){return e}}var isDebug=/debug/i.test(win.location.hash),hasOwn=Object.prototype.hasOwnProperty,Util={extend:function(e,t,n,r){var i,s;e=e||{};if(!t)return;n instanceof Array&&(r=n,n=!0),n===undefined&&(n=!0);if(r&&(i=r.length))while(i--)s=r[i],("function"==typeof s.getClassName||hasOwn.call(t,s))&&(n||!e[s])&&(e[s]=this.cloneObject(t[s]));else for(i in t)s=t[i],(s&&"function"==typeof s.getClassName||hasOwn.call(t,i))&&(n||!e[i])&&(e[i]=this.cloneObject(s));return e},cloneObject:function(o,isCloneFunction,isClonePrototype){function copyObject(obj,isCopyFunction,isCopyPrototype){var objClone,con,prop;if(obj===undefined||obj===null)return objClone=obj;con=obj.constructor;if(con==Object)objClone=new con;else if(con==Function){if(!isCopyFunction)return objClone=obj;objClone=eval("["+obj.toString()+"]")[0]}else objClone=new con(obj.valueOf());for(var key in obj)objClone[key]!=obj[key]&&(typeof obj[key]=="object"?objClone[key]=copyObject(obj[key],isCopyFunction):objClone[key]=obj[key]);if(con==Function&&isCopyFunction&&isCopyPrototype){prop=obj.prototype;for(var key in prop)typeof prop[key]=="object"?objClone.prototype[key]=copyObject(prop[key],isCopyFunction,isCopyPrototype):objClone.prototype[key]=prop[key]}return objClone.toString=obj.toString,objClone.valueOf=obj.valueOf,objClone}return copyObject(o,isCloneFunction,isClonePrototype)},eachProp:function(e,t){var n,r;switch(typeof e){case"array":for(n=0,r=e.length;n<r;n++)t&&t(n,e);break;case"object":for(n in e)hasOwn.call(e,n)&&t&&t(n,e[n]);break;default:}},getDom:function(e){return e==="body"?document.body:document.getElementById(e)},createDom:function(e,t){var n=document.createElement(e);return t&&this.eachProp(t,function(e,t){e=="html"?n.innerHTML=t:n.setAttribute(e,t)}),n},log:function(e){var t,n;if(!isDebug)return;typeof console!="undefined"&&console.log?console.log(e):(t=this.getDom("class-logging"),n=this.getDom("body"),t||(t=this.createDom("div",{id:"class-logging",html:'<h3>Debug Results:</h3><ol id="class-debug-list"></ol>'}),n.insertBefore(t,n.firstChild)),ol=this.getDom("debug-list"),ol.innerHTML=ol.innerHTML+"<li>"+e+"</li>")},checkCallerIsProperty:function(e,t){var n=e.callee.caller,r=!1;while(n){if(n[t]){r=!0;break}n=n.arguments.callee.caller}return r}},dataSource={classes:{__type__:"namespace",namespace:{__type__:"namespace",_______eg:{classPath:"namespace/myclass",__type__:"class",__constructor__:function(){},__class__:null,"static":{},"private":{},"protected":{},"public":{},superClassList:["namespace/class2","namespace/class3"],interfaceList:["namespace/interface1","namespace/interface2"]}}},interfaces:{__type__:"namespace",namespace:{__type__:"namespace",______eg:{interfacePath:"namespace/interface1",__type__:"interface","private":{},"protected":{},"public":{}}}}},DataUtil={getNameSpace:function(e,t){var n=e.split("/"),r,i=n.length,s={name:"",namespace:null},t=t=="interface"?"interfaces":"classes";if(i<1)return Util.log("please input the right path of classname!"),null;s.name=n[i-1],s.namespace=dataSource[t];for(r=0;r<i-1;r++)s.namespace=s.namespace[n[r]]=s.namespace[n[r]]||{__type__:"namespace"};return s.namespace.__type__!=="namespace"?(Util.log("sorry,you can not declare the class under another class!"),null):s},getClass:function(e){var t=this.getNameSpace(e,"class");return t.namespace[t.name]},addNewClass:function(e){var t=this.getNameSpace(e.classPath,"class");return t?(e.__type__="class",t.namespace[t.name]=e,!0):!1},getInterface:function(e){var t=this.getNameSpace(e,"interface");return t.namespace[t.name]},addNewInterface:function(e){var t=this.getNameSpace(e.classPath,"interface");return t?(e.__type__="interface",t.namespace[t.name]=e,!0):!1}};Util.extend(Class.prototype,{extend:function(e){var t,n;return e instanceof Class?(t=this.getClassPath(),n=DataUtil.getClass(t),n.superClassList.push(e.getClassPath())):Util.log("the "+e+" isn't an invalid Class during extend"),this},"implements":function(e){return(!e||!e.isInterface())&&Util.log("the "+e+" isn't an invalid Interface during implements"),this},isExtendsFrom:function(e){var t=this.getClassPath(),n=DataUtil.getClass(t);return n.superClassList.indexOf(e)>-1},isImplements:function(e){var t=this.getClassPath(),n=DataUtil.getClass(t);return n.interfaceList.indexOf(superClass)>-1},getClassName:function(){var e=this.getClassPath().split("/");return e[e.length-1]},createInstance:function(){var clsp=this.getClassPath(),clsn=this.getClassName(),_class=DataUtil.getClass(clsp),con,properties={},functions={},i,p,len,temp={},tempclass,tempcase,Incase;if(!_class.__constructor__){eval("function "+clsn+"(){};con="+clsn+";"),len=_class.superClassList.length;for(i=0;i<len;i++){tempclass=DataUtil.getClass(_class.superClassList[i]);if(tempclass){for(_p in tempclass["public"])"function"==typeof tempclass["public"][_p]?functions[_p]=tempclass["public"][_p]:properties[_p]=tempclass["public"][_p];for(_p in tempclass["protected"])"function"==typeof tempclass["protected"][_p]?functions[_p]=tempclass["protected"][_p]:properties[_p]=tempclass["protected"][_p]}}for(_p in _class["public"])typeof _class["public"][_p]=="function"?functions[_p]=_class["public"][_p]:properties[_p]=_class["public"][_p];for(_p in _class["protected"])typeof _class["protected"][_p]=="function"?functions[_p]=_class["protected"][_p]:properties[_p]=_class["protected"][_p];for(_p in _class["private"])typeof _class["private"][_p]=="function"?functions[_p]=function(e){return function(){if(!Util.checkCallerIsProperty(arguments,"__isJDKProperty__")){Util.log(e+" is a private property!");return}return _class["private"][e].apply(this,arguments)}}(_p):properties[_p]=_class["private"][_p];Util.extend(con.prototype,functions,!0),Util.extend(con.prototype,{getClassName:function(){return clsn},getClassPath:function(){return clsp}},!0),_class.__properties__=properties,_class.__constructor__=con}else con=_class.__constructor__;return Incase=new con,Util.extend(Incase,_class.__properties__,!0),Incase.init&&Incase.init.apply(Incase,arguments),Incase}},!0),Util.extend(win,{JDK:{Util:Util,Class:Class,Interface:Interface}},!0,["JDK"])})(window,undefined);